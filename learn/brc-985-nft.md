# brc-985-nft

## deploy

```json
{
    "p": "brc-985-nft",
    "op": "deploy",
    "tick": "mnft",
    "da": "mooda",
    "max": "1000",
    "description": "Bitcoin NFT",
    "id": "",
    "sig": ""
}
```

| Key         | Required | Description                                                  |
| ----------- | -------- | ------------------------------------------------------------ |
| p           | 是       | Protocol name                                                |
| op          | 是       | Operation                                                    |
| tick        | 是       | Ticker                                                       |
| da          | 是       | Specifies the BRC-985-DA system that stores the NFT content  |
| max         | 是       | Maximum NFT issuance                                         |
| description | 是       | Description of the NFT                                       |
| id          | 是       | The data ID that describes the NFT                           |
| sig         | 是       | The signature of the Creator of the deploy inscription on id |

**Note: The Deploy operation will upload an image related to the NFT collections. So, the Creator should pay `price` to `storage`.**

1. Check the inscription's value according to the following rules:

   - Check if the protocol name is `brc-985-nft`;

   - Checks if the NFT represented by `tick` exists in the NFT list; if it does, then the deploy inscription is invalid;

   - Checks if the DA represented by `da` exists in the DA list; if it does not, then the deploy inscription is invalid;

   - Verify the signature, the signature method is as follows:

     - Original message: sort the id in dictionary order and concatenate in the form of key=value. For example: id=xxx.

     - The original message is hashed twice using SHA256 to generate the message digest `h`.
     - `signature` is generated by signing the message digest `h` with the private key of Creator using the ECDSA secp256k1 algorithm, and encoded in base64.

2. Check the format of **"id"**;

3. If the above checks pass, then the deploy inscription is valid;

4. Update the NFT list, add the basic information of the NFT to the NFT list.

## mint

```json
{
    "p": "brc-985-nft",
    "op": "mint",
    "tick": "mnft",
    "id": "",
}
```

| Key       | Required | Description                                        |
| --------- | -------- | -------------------------------------------------- |
| p         | 是       | 协议标识符：帮助其他系统识别和处理brc-985的NFT事件 |
| op        | 是       | 操作：事件类型（deploy, mint）                     |
| tick      | 是       | brc-985-nft的唯一标识符                            |
| id        | 是       | NFT内容的数据承诺值                                |
| signature | 是       | 铸造铭文的Creeator对id的签名                       |

**Note: The Mint operation not only mints an NFT but also uploads the NFT data content to the DA. That is, the Creator should pay `price` to `storage`.**

1. Check the inscription's value according to the following rules:

   - Check if the protocol name is `brc-985-nft`;

   - Checks if the NFT represented by `tick` exists in the NFT list; if it does not, then the mint inscription is invalid;
   - Check if the NFT corresponding to `id` already exists; if it does, then the mint inscription is invalid;
   - Check if the available balance of the Creator of the mint inscription is sufficient; if the balance is not enough to pay `price`, then the mint inscription is invalid;
   - Verify the signature, the signature method is as follows:
     - Original message: sort the id in dictionary order and concatenate in the form of key=value. For example: id=xxx.
     - The original message is hashed twice using SHA256 to generate the message digest `h`.
     - `signature` is generated by signing the message digest `h` with the private key of Creator using the ECDSA secp256k1 algorithm, and encoded in base64.
   - Check the format of `id`;

2. If the check passes, then the inscription is valid; 

3. Update the available balance of the Creator of mint inscription, subtract `price`; 

4. Update the available balance of the default receiving address, add `price`;

5. Add the NFT to the NFT list; 

6. Set the owner of the NFT to the Creator of the inscription.

## transfer

It's simple to transfer an brc-721 token, just send the Mint inscription to the receiver.